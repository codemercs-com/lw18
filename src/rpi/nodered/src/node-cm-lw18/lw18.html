<!-- NODE TO WRITE COMMAND -->
<script type="text/html" data-template-name="set cmd">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-busno"><i class="fa fa-random"></i> Bus Number</label>
        /dev/i2c-<input id="node-input-busno" class="I2C-in-address" placeholder="[msg.bus]" min=0 max=7 style="width:40px; height:16px;">
    </div>

    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-address-card-o"></i> I2C Addr.</label>
        <input type="number" id="node-input-address" class="I2C-out-address" placeholder="[msg.address]" style="width:100px;" min=3 max=127>
    </div>

	<div class="form-row">
        <label for="node-input-cmd_value"><i class="fa fa-tag"></i> Type</label>
        <select id="node-input-cmd_value" class="I2C-out-cmd_value" style="width:125px !important" required>
                  <option selected value="0">Reset Sync</option>
                  <option value="1">Set Sync</option>
				  <option value="2">Linear mapping</option>
                  <option value="3">Store PWM</option>
				  <option value="4">Set Broadcast</option>
        </select>
    </div>

</script>

<script type="text/html" data-help-name="set cmd">
    <p>Send command values.</p>
</script>

<script type="text/javascript">
	RED.nodes.registerType('set cmd',
		{
			category: 'LEDWarrior18',
			defaults:
			{
				name: { value: "" },
				busno: { value: "1" },
				address: { value: 20, required: true },
				cmd_value: { value: 0, required: true }
			},
			color: "#efefef",
			inputs: 1,
			outputs: 0,
			icon: "serial.png",
			align: "right",
			label: function () { return this.name || 'Set Command'; },
			labelStyle: function () { return this.name ? "node_label_italic" : ""; },
			oneditprepare: function () {
				if (this.busno === undefined) {
					$("#node-input-busno").val(1);
				}
				$("#node-input-busno").spinner({
					min: 0,
					max: 7
				});
			}
		});
</script>

<!-- NODE TO READ COMMAND -->
<script type="text/html" data-template-name="get cmd">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-busno"><i class="fa fa-random"></i> Bus Number</label>
        /dev/i2c-<input id="node-input-busno" class="I2C-in-address" placeholder="[msg.bus]" min=0 max=7 style="width:40px; height:16px;">
    </div>

    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-address-card-o"></i> I2C Addr.</label>
        <input type="number" id="node-input-address" class="I2C-out-address" placeholder="[msg.address]" style="width:100px;" min=3 max=127>
    </div>
</script>

<script type="text/html" data-help-name="get cmd">
    <p>Send command values.</p>
</script>

<script type="text/javascript">
	RED.nodes.registerType('get cmd',
		{
			category: 'LEDWarrior18',
			defaults:
			{
				name: { value: "" },
				busno: { value: "1" },
				address: { value: 20, required: true }
			},
			color: "#efefef",
			inputs: 1,
			outputs: 1,
			icon: "serial.png",
			align: "left",
			label: function () { return this.name || 'Get Command'; },
			labelStyle: function () { return this.name ? "node_label_italic" : ""; },
			oneditprepare: function () {
				if (this.busno === undefined) {
					$("#node-input-busno").val(1);
				}
				$("#node-input-busno").spinner({
					min: 0,
					max: 7
				});
			}
		});
</script>


<!-- NODE TO WRITE 16BIT PWM VALUE -->
<script type="text/html" data-template-name="set pwm16">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-busno"><i class="fa fa-random"></i> Bus Number</label>
        /dev/i2c-<input id="node-input-busno" class="I2C-in-address" placeholder="[msg.bus]" min=0 max=7 style="width:40px; height:16px;">
    </div>

    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-address-card-o"></i> I2C Addr.</label>
        <input type="number" id="node-input-address" class="I2C-out-address" placeholder="[msg.address]" style="width:100px;" min=3 max=127>
    </div>

    <div class="form-row">
        <label for="node-input-pwm1_value"><i class="fa fa-empire"></i> PWM1</label>
        <input type="number" id="node-input-pwm1_value" class="I2C-out-pwm1_value" placeholder="[msg.pwm1_value]" style="width:100px;" min=0 max=65535> (0...65535)
    </div>

    <div class="form-row">
        <label for="node-input-pwm1_value"><i class="fa fa-empire"></i> PWM2</label>
        <input type="number" id="node-input-pwm2_value" class="I2C-out-pwm2_value" placeholder="[msg.pwm2_value]" style="width:100px;" min=0 max=65535> (0...65535)
    </div>

</script>

<script type="text/html" data-help-name="set pwm16">
    <p>Send 16 bit PWM values.</p>
</script>

<script type="text/javascript">
	RED.nodes.registerType('set pwm16',
		{
			category: 'LEDWarrior18',
			defaults:
			{
				name: { value: "" },
				busno: { value: "1" },
				address: { value: 20, required: true },
				pwm1_value: { value: 0, required: true },
				pwm2_value: { value: 0, required: true },
			},
			color: "#efefef",
			inputs: 1,
			outputs: 0,
			icon: "serial.png",
			align: "right",
			label: function () { return this.name || 'Set 16Bit PWM'; },
			labelStyle: function () { return this.name ? "node_label_italic" : ""; },
			oneditprepare: function () {
				if (this.busno === undefined) {
					$("#node-input-busno").val(1);
				}
				$("#node-input-busno").spinner({
					min: 0,
					max: 7
				});
			}
		});
</script>

<!-- NODE TO READ 16bit PWM -->
<script type="text/html" data-template-name="get pwm16">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-busno"><i class="fa fa-random"></i> Bus Number</label>
        /dev/i2c-<input id="node-input-busno" class="I2C-in-address" placeholder="[msg.bus]" min=0 max=7 style="width:40px; height:16px;">
    </div>

    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-address-card-o"></i> I2C Addr.</label>
        <input type="number" id="node-input-address" class="I2C-out-address" placeholder="[msg.address]" style="width:100px;" min=3 max=127>
    </div>
</script>

<script type="text/html" data-help-name="get pwm16">
    <p>Send command values.</p>
</script>

<script type="text/javascript">
	RED.nodes.registerType('get pwm16',
		{
			category: 'LEDWarrior18',
			defaults:
			{
				name: { value: "" },
				busno: { value: "1" },
				address: { value: 20, required: true }
			},
			color: "#efefef",
			inputs: 1,
			outputs: 1,
			icon: "serial.png",
			align: "left",
			label: function () { return this.name || 'Get 16bit PWM'; },
			labelStyle: function () { return this.name ? "node_label_italic" : ""; },
			oneditprepare: function () {
				if (this.busno === undefined) {
					$("#node-input-busno").val(1);
				}
				$("#node-input-busno").spinner({
					min: 0,
					max: 7
				});
			}
		});
</script>

<!-- NODE TO WRITE 8BIT PWM VALUE -->
<script type="text/html" data-template-name="set pwm8">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-busno"><i class="fa fa-random"></i> Bus Number</label>
        /dev/i2c-<input id="node-input-busno" class="I2C-in-address" placeholder="[msg.bus]" min=0 max=7 style="width:40px; height:16px;">
    </div>

    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-address-card-o"></i> I2C Addr.</label>
        <input type="number" id="node-input-address" class="I2C-out-address" placeholder="[msg.address]" style="width:100px;" min=3 max=127>
    </div>

    <div class="form-row">
        <label for="node-input-pwm1_value"><i class="fa fa-empire"></i> PWM1</label>
        <input type="number" id="node-input-pwm1_value" class="I2C-out-pwm1_value" placeholder="[msg.pwm1_value]" style="width:100px;" min=0 max=255> (0...255)
    </div>

    <div class="form-row">
        <label for="node-input-pwm1_value"><i class="fa fa-empire"></i> PWM2</label>
        <input type="number" id="node-input-pwm2_value" class="I2C-out-pwm2_value" placeholder="[msg.pwm2_value]" style="width:100px;" min=0 max=255> (0...255)
    </div>

</script>

<script type="text/html" data-help-name="set pwm8">
    <p>Send 8 bit PWM values.</p>
</script>

<script type="text/javascript">
	RED.nodes.registerType('set pwm8',
		{
			category: 'LEDWarrior18',
			defaults:
			{
				name: { value: "" },
				busno: { value: "1" },
				address: { value: 20, required: true },
				pwm1_value: { value: 0, required: true },
				pwm2_value: { value: 0, required: true },
			},
			color: "#efefef",
			inputs: 1,
			outputs: 0,
			icon: "serial.png",
			align: "right",
			label: function () { return this.name || 'Set 8Bit PWM'; },
			labelStyle: function () { return this.name ? "node_label_italic" : ""; },
			oneditprepare: function () {
				if (this.busno === undefined) {
					$("#node-input-busno").val(1);
				}
				$("#node-input-busno").spinner({
					min: 0,
					max: 7
				});
			}
		});
</script>

<!-- NODE TO WRITE 16BIT FREQUENCY VALUE -->
<script type="text/html" data-template-name="set freq">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-busno"><i class="fa fa-random"></i> Bus Number</label>
        /dev/i2c-<input id="node-input-busno" class="I2C-in-address" placeholder="[msg.bus]" min=0 max=7 style="width:40px; height:16px;">
    </div>

    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-address-card-o"></i> I2C Addr.</label>
        <input type="number" id="node-input-address" class="I2C-out-address" placeholder="[msg.address]" style="width:100px;" min=3 max=127>
    </div>

    <div class="form-row">
        <label for="node-input-pwm1_value"><i class="fa fa-empire"></i> PWM1</label>
        <input type="number" id="node-input-pwm1_value" class="I2C-out-pwm1_value" placeholder="[msg.pwm1_value]" style="width:100px;" min=0 max=65535> (0...65535)
    </div>

    <div class="form-row">
        <label for="node-input-pwm1_value"><i class="fa fa-empire"></i> PWM2</label>
        <input type="number" id="node-input-pwm2_value" class="I2C-out-pwm2_value" placeholder="[msg.pwm2_value]" style="width:100px;" min=0 max=65535> (0...65535)
    </div>

</script>

<script type="text/html" data-help-name="set freq">
    <p>Set frequency for both channels (Write only)</p>
</script>

<script type="text/javascript">
	RED.nodes.registerType('set freq',
		{
			category: 'LEDWarrior18',
			defaults:
			{
				name: { value: "" },
				busno: { value: "1" },
				address: { value: 20, required: true },
				pwm1_value: { value: 0, required: true },
				pwm2_value: { value: 0, required: true },
			},
			color: "#efefef",
			inputs: 1,
			outputs: 0,
			icon: "serial.png",
			align: "right",
			label: function () { return this.name || 'Set 16Bit Freq'; },
			labelStyle: function () { return this.name ? "node_label_italic" : ""; },
			oneditprepare: function () {
				if (this.busno === undefined) {
					$("#node-input-busno").val(1);
				}
				$("#node-input-busno").spinner({
					min: 0,
					max: 7
				});
			}
		});
</script>